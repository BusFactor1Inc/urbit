:: some forms of mill
::

|:  z = *
==
  |*  (open (gene z))
  ::
    - open
      ||  gene
        y = gene
      ==
        |*
        ::
          ?-  y
            -   [%pont han=mark dur=gene leb=gene]      ::  =>
              +-
                %link
                [%cret [han.y dur.y] [%% [%frag 1]] ~]
                leb.y
              ==

            -   [%rulf han=mark dur=gene leb=gene]      ::  <=
              +-
                %link
                [%cret [han.y leb.y] [%% [%frag 1]] ~]
                dur.y
              ==

            -   [%trop hig=gene muc=gene]               ::  ->
              +-
                %link
                [%cage hig.y [%frag 1] ~]
                muc.y
              ==

            -   [%prec hig=gene muc=gene]               ::  -<
              +-
                %link
                [%cage muc.y [%frag 1] ~]
                hig.y
              ==

            -   [%colb del=gene zim=gene]               ::  ~<
              [%link zim.y del.y]

            -   [%feng tes=gene bif=gene]               ::  ?>
              [%quiz tes.y bif.y [%bail ~]]

            -   [%prex tes=gene hob=gene]               ::  ?<
              [%quiz tes.y [%bail ~] hob.y]

            -   [%gril mox=wire bem=(list pike)]        ::  ?-
              |-
                ?-  bem.y
                  -   ~
                    [%bail ~]
                  -   ^
                    =>  a   
                      (open-pike mox.y i.bem.y)
                    [%quiz tes.a bif.a $(bem.y t.bem.y)]
                ==

            -   [%stam feg=gene bem=(list pike)]        ::  ?+
              !!
            -   [%boce das=(list gene)]                 ::  ?&
              !!
            -   [%dant das=(list gene)]                 ::  ?|
              !!
            -   [%blem gix=gene]                        ::  ?!
              !!
          ==

          - open-pike
            ||  [tes=gene bif=gene]
              mox = wire
              pik = pike
            ==
              ?-  pik
                -   [%lask bic=form luf=gene]           ::  -
                  !!
                -   [%plic bic=form]                    ::  +
                  !!
                -   [%semp bic=form luf=gene]           ::  :
                  !!
                -   [%fing bic=form]                    ::  =
                  !!
                -   [%homp luf=gene]                    ::  *
                  !!
              ==

          - open-form-grip
            ||  gene
              kel = form
            ==
              ?-  kel
                -   %blur   [%crad 0]
                -   %atom   [%palt 0]
                -   %flag   [%nock %6 [%cage [%rock 0] [%rock 0] ~]]
                -   %twin   [%cret [%% %crad 0] [%% %crad 0] ~]

                -   [%crib wix=(list :[p=mark q=form])]
                  +-
                    %cret
                    |-
                      ?-  wix.kel
                        +   ~
                        -   ^
                          +-
                            [p.i.wix.kel $$(kel q.i.wix.kel)]
                            $(wix.kel t.wix.kel)
                          ==
                      ==
                  ==
              ==

          - open-form-lump
            ||  gene
              kel = form
            ==
              !!

          - open-form-gate
            ||  gene
              kel = form
            ==
              !!
        ==


    - mold
      |~
      ** 
        %atom
        %blot
        %blur
        [%cell p=mold q=mold]
        [%cone p=mold q=book]
        [%cube p=*]
        [%face p=mark q=mold]
        [%fork p=mold q=mold]
        [%fuse p=mold q=mold]
        [%hold p=mold q=gene]
      ==


    - gene
      |~
      **
        [%bail ~]                                       ::  !!
        [%cast fes=gene rum=gene]                       ::  ^-
        [%cage fut=(list gene)]                         ::  +-
        [%dbug lyq=gene]                                ::  !#
        [%home cux=home lyq=gene]                       ::  !:
        [%kick ved=wire suc=bolt]                       ::  :=
        [%like rid=wire bul=gene]                       ::  ?=
        [%link del=gene zim=gene]                       ::  ~>
        [%load pir=book]                                ::  |@
        [%name tem=mark caf=gene]                       ::  +=
        [%nock fiz={3 4 5 6} dil=gene]                  ::  :N
        [%quiz tes=gene bif=gene hob=gene]              ::  ?:
        [%rock gos=*]                                   ::  %=
        [%sure fes=gene gav=gene vep=gene]              ::  ^=
        [%spot xed=spot lyq=gene]                       ::  !@

        [%pont han=mark dur=gene leb=gene]              ::  =>
        [%rulf han=mark dur=gene leb=gene]              ::  =<
        [%trop hig=gene muc=gene]                       ::  ->
        [%prec hig=gene muc=gene]                       ::  -<
        [%colb del=gene zim=gene]                       ::  ~<

        [%feng tes=gene bif=gene]                       ::  ?>
        [%prex tes=gene hob=gene]                       ::  ?<
        [%gril mox=wire bem=(list pike)]                ::  ?-
        [%stam feg=gene bem=(list pike)]                ::  ?+
        [%boce das=(list gene)]                         ::  ?&
        [%dant das=(list gene)]                         ::  ?|
        [%blem gix=gene]                                ::  ?!

        [%malk pir=grid]                                ::  |+
        [%blin bov=gene pir=grid]                       ::  |*
        [%flic tep=form von=gene]                       ::  |:
        [%drol nix=form tep=form von=gene]              ::  ||
        [%lome cug=gene]                                ::  |=
        [%flot cug=gene]                                ::  |-

        [%lorb tul=form rum=gene]                       ::  ^:

        [%port tic=step vix=mark]                       ::  :<
        [%frag haz=axis]                                ::  :>
        [%mang buz=gene lep=gene]                       ::  :~
        [%garc buz=gene pum=(list gene)]                ::  :+
        [%flec buz=gene]                                ::  :-
        [%grun vec=bolt sud=gene]                       ::  :%
        [%nock fiz={3 4 5 6} dil=gene]                  ::  :N

        [%cret caw=grid]                                ::  ++
        [%bink mef=form]                                ::  +:

        [%palt daq=@]                                   ::  %@
        [%crad gos=*]                                   ::  %*
      ==

    - pike
      |~
      **
        [%lask bic=form luf=gene]                       ::  -
        [%plic bic=form]                                ::  +
        [%semp bic=form luf=gene]                       ::  :
        [%fing bic=form]                                ::  =
        [%homp luf=gene]                                ::  *
      ==
        
    - form
      |~
      **
        %atom                                           ::  @
        %flag                                           ::  ?
        %blur                                           ::  *
        %twin                                           ::  ^
        [%crib wix=(list :[p=mark q=form])]             ::  *+
        [%gate puz=gene]                                ::  *:
        [%grip ved=form piv=form]                       ::  *|
        [%pick bec=(list form)]                         ::  **
        [%dish heb=gene]                                ::  *~
        [%rock hin=*]                                   ::  %
      ==

    - plug
      |~
      **
        @:mark
        [%pith tic=step vix=mark]
        [%port tic=step vix=mark]
        [%frag haz=axis]
      ==

    - book 
      (bush mark gene)

    - grid
      (list :[p=mark q=gene])

    - bolt
      (list :[p=wire q=gene])

    - wire
      (list plug)

    - home
      (list mark)

    - spot
      :[at=[lin=@ col=@] to=[lin=@ col=@]]

    - axis
      @

    - mark
      @

    - step
      @
  ==
